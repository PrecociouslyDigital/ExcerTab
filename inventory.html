<html>
<body>
<div id=things></div>
<input type=text id=thing><span onclick=addthing();> add</span>
<div id=trans></div>
<div onclick=takeTransact()>process</div>
<div onclick=clear()>clear</div>
<script>
var inp= document.getElementById("thing");
var things= document.getElementById("things");
var transact = document.getElementById("trans");
var transactions = [];
for(var item in localStorage){
things.innerHTML +=  "<span id='item_"+item +"'>" +item + ":" + localStorage[item]+ "'</span><span onclick='addvalue(\""+item+ "\");'> | add";
}

function addthing(){
things.innerHTML +=  "<span id='item_"+inp.value +"'>" +inp.value + ":0'</span><span onclick=\"addvalue('"+inp.value+ "');\">  | add ";
localStorage[inp.value] = 0;
inp.value="";
}
function addvalue(ite){
transact.innerHTML += ite + "<br>";
transactions.push(ite);
}
function clear(){
transact.innerHTML =";
transactions = "";
}
function takeTransact(){
  for(var i in transactions){
    localStorage[i]++;
  }
  transact.innerHTML = "";
}
</script>
</body>
</html>
